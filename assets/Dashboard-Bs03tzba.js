import{_ as O}from"./xiaoyugan-CodOW0Y3.js";import{d as q,c as l,o as a,a as e,s as Q,x as R,r as B,A as z,b as G,h as J,g as t,w as n,i as m,t as d,u as p,F as f,j as y,p as K,f as w,k as b,q as N,l as T}from"./index-DhCM_Bam.js";import{A as ee,T as se,H as te}from"./ThemeToggle-D5LR7Kyu.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as W}from"./PersonCircle-BUw1zcUH.js";import{C}from"./CheckmarkCircle-kgyS8mbJ.js";import{C as j,a as ne}from"./Time-PMyRX0F3.js";import{C as x}from"./Cube-Dj3AwTYV.js";import{S as D}from"./Settings-BP3JOg8X.js";const ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ie=e("path",{d:"M396 432H136c-36.44 0-70.36-12.57-95.51-35.41C14.38 372.88 0 340 0 304c0-36.58 13.39-68.12 38.72-91.22c18.11-16.53 42.22-28.25 69.18-33.87a16 16 0 0 0 11.37-9.15a156.24 156.24 0 0 1 42.05-56C187.76 91.69 220.5 80 256 80a153.57 153.57 0 0 1 107.14 42.9c24.73 23.81 41.5 55.28 49.18 92a16 16 0 0 0 12.12 12.39C470 237.42 512 270.43 512 328c0 33.39-12.24 60.78-35.41 79.23C456.23 423.43 428.37 432 396 432z",fill:"currentColor"},null,-1),ce=[ie],le=q({name:"Cloud",render:function(i,v){return a(),l("svg",ae,ce)}}),re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},de=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 144h112v112"},null,-1),ue=e("path",{d:"M48 368l121.37-121.37a32 32 0 0 1 45.26 0l50.74 50.74a32 32 0 0 0 45.26 0L448 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),_e=[de,ue],pe=q({name:"TrendingUp",render:function(i,v){return a(),l("svg",re,_e)}}),me={class:"dashboard-page"},ve={class:"dashboard-nav"},ke={class:"nav-container"},he={class:"nav-menu"},ge={class:"nav-user"},fe={class:"user-info"},ye={class:"username"},we={class:"dashboard-main"},be={class:"main-container"},Te={class:"welcome-section"},Ce={class:"welcome-content"},xe={class:"welcome-text"},De={class:"welcome-actions"},$e={class:"stats-section"},Se={class:"stats-grid"},Ae={class:"stat-content"},Me={class:"stat-number"},Be={class:"stat-label"},ze={class:"quick-actions-section"},Ne={class:"actions-grid"},We=["onClick"],je={class:"action-icon"},qe={class:"action-content"},He={class:"recent-activity-section"},Le={class:"activity-header"},Ue={key:0,class:"activity-list"},Ve={class:"activity-content"},Fe={class:"activity-text"},Ie={class:"activity-time"},Pe={key:1,class:"empty-activity"},Xe={__name:"Dashboard",setup($){const i=J(),v=Q(),u=R(),h=B([]),H=z(()=>new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),L=z(()=>[{id:1,icon:W,label:"游戏Token",value:u.gameTokens.length,change:"+2 本月",changeType:"positive",color:"#18a058"},{id:2,icon:C,label:"已完成任务",value:"156",change:"+12 今日",changeType:"positive",color:"#2080f0"},{id:3,icon:j,label:"节省时间",value:"24.5h",change:"+3.2h 本周",changeType:"positive",color:"#f0a020"},{id:4,icon:pe,label:"效率提升",value:"85%",change:"+15% 本月",changeType:"positive",color:"#d03050"}]),U=B([{id:1,icon:x,title:"游戏功能",description:"访问所有游戏功能模块",action:"game-features"},{id:2,icon:ee,title:"添加Token",description:"快速添加新的游戏Token",action:"add-token"},{id:3,icon:C,title:"执行任务",description:"一键执行所有待完成任务",action:"execute-tasks"},{id:4,icon:le,title:"WebSocket测试",description:"测试WebSocket连接和游戏命令",action:"websocket-test"},{id:5,icon:D,title:"系统设置",description:"配置个人偏好和系统选项",action:"open-settings"}]),V=[{label:"个人资料",key:"profile"},{label:"账户设置",key:"settings"},{type:"divider"},{label:"退出登录",key:"logout"}],F=c=>{switch(c){case"profile":i.push("/profile");break;case"settings":i.push("/settings");break;case"logout":u.clearAllTokens(),v.success("已清除所有Token"),i.push("/tokens");break}},S=()=>{var c;console.log("🔘 点击管理Token按钮"),console.log("📊 当前Token状态:",{hasTokens:u.hasTokens,selectedToken:(c=u.selectedToken)==null?void 0:c.name,tokenCount:u.gameTokens.length});try{i.push("/tokens"),console.log("✅ 成功导航到 /tokens")}catch(s){console.error("❌ 导航失败:",s),v.error("导航到Token管理页面失败")}},I=c=>{switch(c.action){case"game-features":i.push("/game-features");break;case"add-token":S();break;case"execute-tasks":i.push("/game-features");break;case"websocket-test":i.push("/websocket-test");break;case"open-settings":i.push("/profile");break}},A=()=>{h.value=[{id:1,type:"success",message:"成功完成日常任务：每日签到",timestamp:Date.now()-30*60*1e3},{id:2,type:"info",message:"添加了新的游戏角色：剑士小明",timestamp:Date.now()-2*60*60*1e3},{id:3,type:"warning",message:"任务执行遇到错误，请检查网络连接",timestamp:Date.now()-4*60*60*1e3}],v.success("活动数据已刷新")},P=c=>{switch(c){case"success":return C;case"warning":return j;case"info":default:return x}},X=c=>{const s=Date.now()-c,r=Math.floor(s/(1e3*60)),_=Math.floor(s/(1e3*60*60)),k=Math.floor(s/(1e3*60*60*24));return k>0?`${k}天前`:_>0?`${_}小时前`:r>0?`${r}分钟前`:"刚刚"};return G(async()=>{if(!u.hasTokens){i.push("/tokens");return}u.initTokenStore(),A()}),(c,s)=>{var M;const r=m("n-icon"),_=m("router-link"),k=m("ChatBubbles"),Y=m("n-avatar"),Z=m("n-dropdown"),g=m("n-button"),E=m("n-empty");return a(),l("div",me,[e("nav",ve,[e("div",ke,[s[7]||(s[7]=e("div",{class:"nav-brand"},[e("img",{src:O,alt:"XYZW",class:"brand-logo"}),e("span",{class:"brand-text"},"XYZW 控制台")],-1)),e("div",he,[t(_,{to:"/dashboard",class:"nav-item","active-class":"active"},{default:n(()=>[t(r,null,{default:n(()=>[t(p(te))]),_:1}),s[1]||(s[1]=e("span",null,"首页",-1))]),_:1,__:[1]}),t(_,{to:"/game-features",class:"nav-item","active-class":"active"},{default:n(()=>[t(r,null,{default:n(()=>[t(p(x))]),_:1}),s[2]||(s[2]=e("span",null,"游戏功能",-1))]),_:1,__:[2]}),t(_,{to:"/tokens",class:"nav-item","active-class":"active"},{default:n(()=>[t(r,null,{default:n(()=>[t(p(W))]),_:1}),s[3]||(s[3]=e("span",null,"Token管理",-1))]),_:1,__:[3]}),t(_,{to:"/daily-tasks",class:"nav-item","active-class":"active"},{default:n(()=>[t(r,null,{default:n(()=>[t(p(D))]),_:1}),s[4]||(s[4]=e("span",null,"任务管理",-1))]),_:1,__:[4]}),t(_,{to:"/message-test",class:"nav-item","active-class":"active"},{default:n(()=>[t(r,null,{default:n(()=>[t(k)]),_:1}),s[5]||(s[5]=e("span",null,"消息测试",-1))]),_:1,__:[5]}),t(_,{to:"/profile",class:"nav-item","active-class":"active"},{default:n(()=>[t(r,null,{default:n(()=>[t(p(D))]),_:1}),s[6]||(s[6]=e("span",null,"个人设置",-1))]),_:1,__:[6]})]),e("div",ge,[t(se),t(Z,{options:V,onSelect:F},{default:n(()=>{var o;return[e("div",fe,[t(Y,{size:"medium","fallback-src":"/icons/xiaoyugan.png"}),e("span",ye,d(((o=p(u).selectedToken)==null?void 0:o.name)||"未选择Token"),1),t(r,null,{default:n(()=>[t(p(ne))]),_:1})])]}),_:1})])])]),e("main",we,[e("div",be,[e("section",Te,[e("div",Ce,[e("div",xe,[e("h1",null,"欢迎回来，"+d(((M=p(u).selectedToken)==null?void 0:M.name)||"游戏玩家")+"！",1),e("p",null,"今天是 "+d(H.value)+"，继续您的游戏管理之旅吧",1)]),e("div",De,[t(g,{type:"primary",size:"large",onClick:s[0]||(s[0]=o=>p(i).push("/game-features"))},{default:n(()=>s[8]||(s[8]=[T(" 进入游戏功能 ",-1)])),_:1,__:[8]}),t(g,{size:"large",onClick:S},{default:n(()=>s[9]||(s[9]=[T(" 管理Token ",-1)])),_:1,__:[9]})])])]),e("section",$e,[e("div",Se,[(a(!0),l(f,null,y(L.value,o=>(a(),l("div",{key:o.id,class:"stat-card"},[e("div",{class:"stat-icon",style:K({color:o.color})},[(a(),w(b(o.icon)))],4),e("div",Ae,[e("div",Me,d(o.value),1),e("div",Be,d(o.label),1),e("div",{class:N(["stat-change",o.changeType])},d(o.change),3)])]))),128))])]),e("section",ze,[s[10]||(s[10]=e("h2",{class:"section-title"}," 快速操作 ",-1)),e("div",Ne,[(a(!0),l(f,null,y(U.value,o=>(a(),l("div",{key:o.id,class:"action-card",onClick:Ye=>I(o)},[e("div",je,[(a(),w(b(o.icon)))]),e("div",qe,[e("h3",null,d(o.title),1),e("p",null,d(o.description),1)])],8,We))),128))])]),e("section",He,[e("div",Le,[s[12]||(s[12]=e("h2",{class:"section-title"}," 最近活动 ",-1)),t(g,{text:"",type:"primary",onClick:A},{default:n(()=>s[11]||(s[11]=[T(" 刷新 ",-1)])),_:1,__:[11]})]),h.value.length?(a(),l("div",Ue,[(a(!0),l(f,null,y(h.value,o=>(a(),l("div",{key:o.id,class:"activity-item"},[e("div",{class:N(["activity-icon",o.type])},[(a(),w(b(P(o.type))))],2),e("div",Ve,[e("div",Fe,d(o.message),1),e("div",Ie,d(X(o.timestamp)),1)])]))),128))])):(a(),l("div",Pe,[t(E,{description:"暂无活动记录"})]))])])])])}}},ss=oe(Xe,[["__scopeId","data-v-5e2e73c0"]]);export{ss as default};
